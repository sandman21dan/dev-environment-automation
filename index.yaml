---
- hosts: all
  tasks:
    - name: Install dependencies
      apt:
        pkg:
          - curl
          - git
          - tmux
          - vim
          - wget
          - zsh
        state: present
      become: yes

    - name: Install nvm
      git:
        repo: https://github.com/creationix/nvm.git
        version: v0.33.11
        dest: /home/{{ ansible_user_id }}/.nvm

    - name: Install oh-my-zsh
      git:
        repo: https://github.com/robbyrussell/oh-my-zsh.git
        dest: /home/{{ ansible_user_id }}/.oh-my-zsh

    - name: Install zsh syntax highlight
      git:
        repo: https://github.com/zsh-users/zsh-syntax-highlighting.git
        dest: /home/{{ ansible_user_id }}/.oh-my-zsh/zsh-syntax-highlighting

    - name: Install z
      get_url:
        url: https://raw.githubusercontent.com/rupa/z/master/z.sh
        dest: /home/{{ ansible_user_id }}

    - name: zshrc
      copy:
        src: ./templates/zshrc
        dest: /home/{{ ansible_user_id }}/.zshrc

    - name: Create vim themes path
      file:
        path: /home/{{ ansible_user_id }}/.vim/colors
        state: directory

    - name: Download vim monokai
      get_url:
        url: https://raw.githubusercontent.com/sickill/vim-monokai/master/colors/monokai.vim
        dest: /home/{{ ansible_user_id }}/.vim/colors

    - name: vimrc
      copy:
        src: ./templates/vimrc
        dest: /home/{{ ansible_user_id }}/.vimrc

    - name: tmux config
      copy:
        src: ./templates/tmux.conf
        dest: /home/{{ ansible_user_id }}/.tmux.conf
